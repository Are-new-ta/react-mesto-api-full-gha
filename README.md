[![Tests](https://github.com/yandex-praktikum/react-mesto-api-full-gha/actions/workflows/tests.yml/badge.svg)](https://github.com/yandex-praktikum/react-mesto-api-full-gha/actions/workflows/tests.yml)
# react-mesto-api-full
Репозиторий для приложения проекта `Mesto`, включающий фронтенд и бэкенд части приложения со следующими возможностями: авторизации и регистрации пользователей, операции с карточками и пользователями. Бэкенд расположите в директории `backend/`, а фронтенд - в `frontend/`. 
  
Пожалуйста, прикрепите в это описание ссылку на сайт, размещенный на Яндекс.Облаке.

Адрес репозитория: https://github.com/...

## Ссылки на проект

IP-адрес x.x.x.x

Frontend https://...

Backend https://...

## Сдача проекта Mesto: настройка и деплой бэкенда
## Настройка и деплой бэкенда
1. Реализуйте логирование запросов и ошибок
Каждый запрос к API должен сохраняться в файле request.log. Если API возвращает ошибку, информация о ней должна сохраняться в файле error.log.
Сохраняйте логи в формате JSON и не добавляйте файлы логов в репозиторий.
2. Объедините фронтенд и бэкенд части приложения.
В репозитории вашего проекта должны быть директории:
frontend/ — часть приложения, написанная на React.
backend/ — часть приложения, написанная на NodeJS.
Проверьте, чтобы директория .git содержалась только в корне вашего проекта. Этой директории не должно быть внутри frontend/ и backend/.
Конечная структура репозитория должна выглядеть так:
.git
backend/
frontend/
README.md 
3. Создайте облачный сервер и разверните API
Создайте сервер, установите всё необходимое и разверните на нём приложение.
Для создания облачного сервера мы рекомендуем использовать платформу Яндекс.Облако, так как она предоставляет грант для новых пользователей. Если вы пользовались Яндекс.Облаком раньше и уже израсходовали входной грант, обратитесь к комьюнити-менеджеру.
Eсли вы используете npm-registry Практикума, не забудьте авторизоваться в нём на сервере:
npm login --registry https://npm.prakticum-team.ru/
Для авторизации используйте тот же логин и пароль, что и на своём компьютере.
4. Проверьте, что вся функциональность сохранена
Конечным результатом работы с облачным сервером должно быть задеплоенное API и фронтенд-часть приложения. К ним можно обратиться по публичному IP-адресу сервера.
## Вся функциональность приложения должна быть сохранена:
регистрация и авторизация,
редактирование профиля,
добавление/удаление карточки,
постановка и снятие лайка.
Вся эта функциональность должна взаимодействовать с вашим API. Убедитесь, что в проекте не осталось обращений к старым эндпоинтам, которые вы использовали при выполнении предыдущих проектных работ. 
В процессе выполнения этого пункта вы можете столкнуться с проблемами CORS. Чтобы их решить, можно повторить соответствующую тему из предыдущих спринтов.
5. Создание .env-файла
Создайте на сервере .env-файл и добавьте в него основные переменные окружения:
NODE_ENV=production,
JWT_SECRET с секретным ключом для создания и верификации JWT.
Файл .env должен быть только на сервере, не храните его в репозитории. В режиме разработки (когда process.env.NODE_ENV !== 'production') код должен запускаться и работать без наличия этого файла.
Этот урок поможет вспомнить, что такое .env файл и как с ним работать.
6. Создайте домен и прикрепите его к серверу
Зарегистрируйте домен и сделайте так, чтобы он указывал на публичный IP вашего сервера. Для наших целей подойдёт и бесплатный домен.
Критерий готовности: к API можно обратиться по доменному имени. Вся функциональность сохранена.
7. Выпустите сертификаты и подключите их
У клиента должна быть возможность обратиться к серверу по https.
8. Краш-тест сервера
Ситуации, в которых сервер падает, должны быть предусмотрены. Приложение должно работать в процессе, который в случае падения автоматически восстанавливается. Сделать это поможет pm2.
Чтобы на ревью мы смогли наверняка это протестировать, перед обработчиками роутов /signin и /signup добавьте такой код:
app.get('/crash-test', () => {
  setTimeout(() => {
    throw new Error('Сервер сейчас упадёт');
  }, 0);
}); 
Необработанная ошибка в Node.js вызывает событие uncaughtException. При возникновении этого события процесс, в котором работает Node.js, завершается. Поэтому теперь при GET-запросе на URL /crash-test сервер будет падать. Pm2 должен его восстанавливать. После GET-запроса на /crash-test должна быть возможность обратиться по любому другому роуту, не запуская приложение на сервере вручную.
Не забудьте удалить этот код после успешного прохождения ревью.

## Чеклист Проектной работы:

- [Чеклист 15]( https://code.s3.yandex.net/web-developer/checklists-pdf/new-program/checklist_15.pdf);
